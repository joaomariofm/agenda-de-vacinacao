<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<title>Agenda de vacinacao</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>


	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		main {
			width: 100vw;
			height: 100vh;

			background: #27272a;
			color: #f8fafc;
		}

		table > thead > tr > th {
			background: #27272a !important;
			color: #f8fafc !important;
		}

		table > tbody > tr > th {
			background: #27272a !important;
			color: #f8fafc !important;
		}

		table > tbody > tr > td {
			background: #27272a !important;
			color: #f8fafc !important;
		}

		.modal-content {
			background: #27272a !important;
			color: #f8fafc !important;
		}
	</style>

	<script>
		let appointments = []

		function setAppointmentsTable(appointments) {
			const tableBody = document.querySelector('.table-body')

			tableBody.innerHTML = ''

			appointments.forEach(appointment => {
				const row = document.createElement('tr')

				const id = document.createElement('th')
				id.setAttribute('scope', 'row')
				id.innerText = appointment.id

				const date = document.createElement('td')
				date.innerText = appointment.date

				const time = document.createElement('td')
				time.innerText = appointment.hour

				const situation = document.createElement('td')
				situation.innerText = appointment.situation

				const user = document.createElement('td')
				user.innerText = appointment.usuario.name

				const vaccine = document.createElement('td')
				vaccine.innerText = appointment.vacina.name

				row.appendChild(id)
				row.appendChild(date)
				row.appendChild(time)
				row.appendChild(situation)
				row.appendChild(user)
				row.appendChild(vaccine)

				tableBody.appendChild(row)
			})
		}

		fetch('http://localhost:8080/list-appointments')
			.then(response => response.json())
			.then(data => {
				appointments = data
				setAppointmentsTable(appointments)
			})
	</script>
</head>
<body>
	<main>
		<div class="container pt-5">
			<section>
				<h1>Agendas</h1>
				
				<div class="d-flex justify-content-between">
					<div class="btn-group mt-3">
						<a href="/" class="btn btn-primary active d-flex align-items-center" aria-current="page">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journal" viewBox="0 0 16 16">
		<path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
		<path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
	</svg>
						</a>
						<a href="/list-users-page" class="btn btn-primary d-flex align-items-center">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
		<path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
	</svg>
						</a>
						<a href="/list-vaccines-page" class="btn btn-primary d-flex align-items-center">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-prescription2" viewBox="0 0 16 16">
		<path d="M7 6h2v2h2v2H9v2H7v-2H5V8h2z"/>
		<path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v10.5a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 3 14.5V4a1 1 0 0 1-1-1zm2 3v10.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V4zM3 3h10V1H3z"/>
	</svg>
						</a>
						<a href="/list-allergies-page" class="btn btn-primary d-flex align-items-center">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-virus" viewBox="0 0 16 16">
		<path d="M8 0a1 1 0 0 1 1 1v1.402c0 .511.677.693.933.25l.7-1.214a1 1 0 0 1 1.733 1l-.701 1.214c-.256.443.24.939.683.683l1.214-.701a1 1 0 0 1 1 1.732l-1.214.701c-.443.256-.262.933.25.933H15a1 1 0 1 1 0 2h-1.402c-.512 0-.693.677-.25.933l1.214.701a1 1 0 1 1-1 1.732l-1.214-.7c-.443-.257-.939.24-.683.682l.701 1.214a1 1 0 1 1-1.732 1l-.701-1.214c-.256-.443-.933-.262-.933.25V15a1 1 0 1 1-2 0v-1.402c0-.512-.677-.693-.933-.25l-.701 1.214a1 1 0 0 1-1.732-1l.7-1.214c.257-.443-.24-.939-.682-.683l-1.214.701a1 1 0 1 1-1-1.732l1.214-.701c.443-.256.261-.933-.25-.933H1a1 1 0 1 1 0-2h1.402c.511 0 .693-.677.25-.933l-1.214-.701a1 1 0 1 1 1-1.732l1.214.701c.443.256.939-.24.683-.683l-.701-1.214a1 1 0 0 1 1.732-1l.701 1.214c.256.443.933.261.933-.25V1a1 1 0 0 1 1-1m2 5a1 1 0 1 0-2 0 1 1 0 0 0 2 0M6 7a1 1 0 1 0-2 0 1 1 0 0 0 2 0m1 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m5-3a1 1 0 1 0-2 0 1 1 0 0 0 2 0"/>
	</svg>
						</a>
					</div>

					<button class="btn btn-success d-flex align-items-center" type="button" data-bs-toggle="modal" data-bs-target="#addModal">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
						</svg>
					</button>
				</div>
			</section>

			<section class="mt-4">
				<table class="table">
					<thead>
						<tr>
							<th scope="col">ID</th>
							<th scope="col">Data</th>
							<th scope="col">Hora</th>
							<th scope="col">Situação</th>
							<th scope="col">Usuário</th>
							<th scope="col">Vacina</th>
						</tr>
					</thead>
					<tbody class="table-body">
					</tbody>
				</table>
			</section>
		</div>

		<div id="addModal" class="modal modal-dialog modal-dialog-scrollable" aria-hidden="true" tabindex="-1">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Nova Agenda</h5>
						<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<p>...</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
						<button type="button" class="btn btn-primary">Adicionar</button>
					</div>
				</div>
			</div>
		</div>
	</main>
</body>
</html>

